{"ast":null,"code":"var _jsxFileName = \"/Users/Admin/Desktop/Epicodus/week-16/Tap-Room/taproom/src/components/KegControl.js\";\nimport React from 'react';\nimport KegList from './KegList';\nimport NewKegForm from './NewKegForm';\nimport KegDetails from './KegDetails';\nimport EditKeg from './EditKeg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass KegControl extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = () => {\n      if (this.state.selectedKeg != null) {\n        this.setState({\n          formOnPage: false,\n          selectedKeg: null,\n          editing: false\n        });\n      } else {\n        this.setState(prevState => ({\n          formOnPage: !prevState.formOnPage\n        }));\n      }\n    };\n\n    this.handleAddingNewKegToList = newKeg => {\n      const newMasterKegList = this.state.masterKegList.concat(newKeg);\n      this.setState({\n        masterKegList: newMasterKegList,\n        formOnPage: false\n      });\n    };\n\n    this.handleChangingSelectedKeg = id => {\n      const selectedKeg = this.state.masterKegList.filter(keg => keg.id === id)[0];\n      this.setState({\n        selectedKeg: selectedKeg\n      });\n    };\n\n    this.handleEditClick = () => {\n      this.setState({\n        editing: true\n      });\n    };\n\n    this.handleDeletingKeg = id => {\n      const newMasterKegList = this.state.masterKegList.filter(keg => keg.id !== id);\n      this.setState({\n        masterKegList: newMasterKegList,\n        selectedKeg: null\n      });\n    };\n\n    this.handleDecrementClick = id => {\n      const selectedKeg = this.state.masterKegList.filter(keg => keg.id === id)[0];\n\n      if (selectedKeg >= 1) {\n        selectedKeg.quantity -= 1;\n        this.setState({\n          selectedKeg: selectedKeg\n        });\n      } else {\n        selectedKeg.quantity = \"This keg is empty\";\n        this.setState({\n          selectedKeg: selectedKeg\n        });\n      }\n    };\n\n    this.handleEditingKegInList = kegToEdit => {\n      const editedMasterKegList = this.state.masterKegList.filter(keg => keg.id !== this.state.selectedKeg.id).concat(kegToEdit);\n      this.setState({\n        masterKegList: editedMasterKegList,\n        editing: false,\n        selectedKeg: null\n      });\n    };\n\n    this.state = {\n      formOnPage: false,\n      masterKegList: [],\n      selectedKeg: null,\n      editing: false\n    };\n  }\n\n  render() {\n    let currentlyVisibleState = null;\n    let buttonText = null;\n\n    if (this.state.editing) {\n      currentlyVisibleState = /*#__PURE__*/_jsxDEV(EditKeg, {\n        keg: this.state.selectedKeg,\n        onEditKeg: this.handleEditingKegInList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 31\n      }, this);\n      buttonText = \"Return to Kegs\";\n    } else if (this.state.selectedKeg != null) {\n      currentlyVisibleState = /*#__PURE__*/_jsxDEV(KegDetails, {\n        keg: this.state.selectedKeg,\n        onClickingDelete: this.handleDeletingKeg,\n        onClickingEdit: this.handleEditClick,\n        onClickDecrement: this.handleDecrementClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 31\n      }, this);\n      buttonText = \"Return to Kegs\";\n    } else if (this.state.formOnPage) {\n      currentlyVisibleState = /*#__PURE__*/_jsxDEV(NewKegForm, {\n        onNewKegCreation: this.handleAddingNewKegToList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 31\n      }, this);\n      buttonText = \"Return to Kegs\";\n    } else {\n      currentlyVisibleState = /*#__PURE__*/_jsxDEV(KegList, {\n        kegList: this.state.masterKegList,\n        onKegSelection: this.handleChangingSelectedKeg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 31\n      }, this);\n      buttonText = \"Add Keg\";\n    }\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [currentlyVisibleState, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleClick,\n        children: buttonText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default KegControl;","map":{"version":3,"sources":["/Users/Admin/Desktop/Epicodus/week-16/Tap-Room/taproom/src/components/KegControl.js"],"names":["React","KegList","NewKegForm","KegDetails","EditKeg","KegControl","Component","constructor","props","handleClick","state","selectedKeg","setState","formOnPage","editing","prevState","handleAddingNewKegToList","newKeg","newMasterKegList","masterKegList","concat","handleChangingSelectedKeg","id","filter","keg","handleEditClick","handleDeletingKeg","handleDecrementClick","quantity","handleEditingKegInList","kegToEdit","editedMasterKegList","render","currentlyVisibleState","buttonText"],"mappings":"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","sourcesContent":["import React from 'react';\nimport KegList from './KegList';\nimport NewKegForm from './NewKegForm';\nimport KegDetails from './KegDetails';\nimport EditKeg from './EditKeg';\n\n\nclass KegControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formOnPage: false,\n      masterKegList: [],\n      selectedKeg: null,\n      editing: false,\n    };\n  }\n\n  handleClick = () => {\n    if (this.state.selectedKeg != null) {\n      this.setState({\n        formOnPage: false,\n        selectedKeg: null,\n        editing: false\n      });\n    } else {\n      this.setState(prevState => ({\n        formOnPage: !prevState.formOnPage,\n      }));\n    }\n  }\n\n  handleAddingNewKegToList = (newKeg) => {\n    const newMasterKegList = this.state.masterKegList.concat(newKeg);\n    this.setState({\n      masterKegList: newMasterKegList,\n      formOnPage: false\n    });\n  }\n\n  handleChangingSelectedKeg = (id) => {\n    const selectedKeg = this.state.masterKegList.filter(keg => keg.id === id)[0];\n    this.setState({ selectedKeg: selectedKeg });\n  }\n\n  handleEditClick = () => {\n    this.setState({ editing: true });\n  }\n\n  handleDeletingKeg = (id) => {\n    const newMasterKegList = this.state.masterKegList.filter(keg => keg.id !== id);\n    this.setState({\n      masterKegList: newMasterKegList,\n      selectedKeg: null\n    });\n  }\n\n  handleDecrementClick = (id) => {\n    const selectedKeg = this.state.masterKegList.filter(keg => keg.id === id)[0];\n    if (selectedKeg >= 1) {\n      selectedKeg.quantity -= 1\n      this.setState({ selectedKeg: selectedKeg });\n    } else {\n      selectedKeg.quantity = \"This keg is empty\"\n      this.setState({ selectedKeg: selectedKeg });\n    }\n  };\n  //   const newQuantity = ({ quantity } - 1)\n  //   if ({ newQuantity } !== 0) {\n  //     this.setState({\n  //       quantity: newQuantity,\n  //       formOnPage: false,\n  //       selectedKeg: null,\n  //       editing: false\n  //     })\n  //   } else\n  //     return (\n  //       this.setState({\n  //         quantity: newQuantity,\n  //         formOnPage: false,\n  //         selectedKeg: null,\n  //         editing: false\n  //       })\n  //     )\n  // };\n\n  // _______________________________________________________\n  // _________  Different ideas I tried ____________________\n\n\n  // handleDecrement = () => {\n  //   console.log({ keg.quantity })\n  //   this.setState({\n  //     quantity: this.state.quantity - 1\n  //   });\n  // };\n\n  // handleDecrementClick = (event) => {\n  //   this.setState({quantity: event.target.value});\n  // }\n  // DecreaseItem = () => {\n  //   this.setState(prevState => {\n  //     if(prevState.quantity > 0) {\n  //       return {\n  //         quantity: prevState.quantity - 1\n  //       }\n  //     } else {\n  //       return null;\n  //     }\n  //   });\n  // }\n\n  handleEditingKegInList = (kegToEdit) => {\n    const editedMasterKegList = this.state.masterKegList\n      .filter(keg => keg.id !== this.state.selectedKeg.id)\n      .concat(kegToEdit);\n    this.setState({\n      masterKegList: editedMasterKegList,\n      editing: false,\n      selectedKeg: null\n    })\n  }\n\n\n  render() {\n    let currentlyVisibleState = null;\n    let buttonText = null;\n\n    if (this.state.editing) {\n      currentlyVisibleState = <EditKeg\n        keg={this.state.selectedKeg} onEditKeg={this.handleEditingKegInList} />\n      buttonText = \"Return to Kegs\";\n    } else if (this.state.selectedKeg != null) {\n      currentlyVisibleState = <KegDetails\n        keg={this.state.selectedKeg}\n        onClickingDelete={this.handleDeletingKeg}\n        onClickingEdit={this.handleEditClick}\n        onClickDecrement={this.handleDecrementClick}\n      />;\n      buttonText = \"Return to Kegs\";\n    } else if (this.state.formOnPage) {\n      currentlyVisibleState = <NewKegForm\n        onNewKegCreation={this.handleAddingNewKegToList} />\n      buttonText = \"Return to Kegs\"\n    } else {\n      currentlyVisibleState = <KegList\n        kegList={this.state.masterKegList}\n        onKegSelection={this.handleChangingSelectedKeg} />;\n      buttonText = \"Add Keg\"\n    }\n    return (\n      <React.Fragment>\n        {currentlyVisibleState}\n        <button onClick={this.handleClick}>{buttonText}</button>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default KegControl;"]},"metadata":{},"sourceType":"module"}